openapi: 3.0.3
info:
  title: Point of Service (POS) API
  version: '1.0'
  description: This API allows clients to manage a point-of-service system including orders, dishes, ingredients, users, and authentication. It supports CRUD operations and is intended to be used by restaurant staff and backend systems.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
servers:
  - url: http://localhost:80/
    description: Local development server.
  - url: '{gitpod-server-url}/'
    description: Gitpod development environment.
    variables:
      gitpod-server-url:
        default: https://8080-<workspace-id>.gitpod.io
        description: The base URL of the Gitpod workspace server.
tags:
  - name: Orders
    description: Manage customer orders, including creation, updates, and tracking.
  - name: Dishes
    description: Manage dishes available for ordering, including their ingredients and categories.
  - name: Ingredients
    description: Track and manage ingredient inventory and usage in dishes.
  - name: Users
    description: Manage user accounts and roles for the application.
  - name: Auth
    description: Handle authentication, including token generation and refresh.
paths:
  /orders:
    post:
      summary: Create an order
      operationId: postOrder
      description: Create an order with dish selections and customer details
      tags:
        - Orders
      security:
        - AccessToken: []
      responses:
        '201':
          description: Resource created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
          headers:
            Location:
              schema:
                type: string
              description: ...
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
      requestBody:
        $ref: '#/components/requestBodies/CreateOrderRequest'
    get:
      summary: Get an order
      description: |
        Get a list of orders with optional filtering and sorting.
        Use the `limit` and `offset` query parameters to paginate the response.
      operationId: getOrderList
      tags:
        - Orders
      parameters:
        - name: sort
          in: query
          description: sort order
          schema:
            type: string
          example: priority
        - name: order
          in: query
          description: Sort order, either ascending (asc) or descending (desc)
          schema:
            type: string
          example: asc
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: table_number|status|priority
        - name: filter
          in: query
          description: Filter order separated by pipe symbol
          schema:
            type: string
            example: table_number.lt~5|status.eq~On the Way
        - name: limit
          in: query
          description: ...
          schema:
            type: integer
            maximum: 30
          example: 10
        - name: offset
          in: query
          description: ...
          schema:
            type: integer
            example: 0
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Order'
                  total_results:
                    type: integer
                    example: 20
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request..
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /orders/{id}:
    get:
      summary: Get order
      description: Use `id` to retrive information about a specific order.
      operationId: getOrder
      tags:
        - Orders
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bcc
          description: ...
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: table_number|status|priority
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    put:
      summary: Update an existing order.
      description: Use `id` to update an existing order.
      operationId: putOrder
      tags:
        - Orders
      security:
        - AccessToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bcd
          description: ...
      requestBody:
        $ref: '#/components/requestBodies/UpdateOrderRequest'
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Order'
                  total_results:
                    type: integer
                    example: 1
        '204':
          description: No content. The operation was successful with no additional content to return.
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    delete:
      summary: Delete an order
      description: Delete an order associated with a specific `id`.
      operationId: deleteOrder
      tags:
        - Orders
      security:
        - AccessToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bca
          description: ...
      responses:
        '204':
          description: No content. The operation was successful with no additional content to return.
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /orders/{id}/dishes:
    get:
      summary: Get a specific order
      description: Use `id` to retrieve information about a specific order.
      operationId: getOrderDishes
      tags:
        - Orders
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bcb
          description: ...
        - name: sort
          in: query
          description: ...
          schema:
            type: string
          example: station
        - name: order
          in: query
          description: ...
          schema:
            type: string
          example: asc
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: name|station|ingredients
        - name: filter
          in: query
          description: ...
          schema:
            type: string
            example: created_at.gt~2024-05-07|station.eq~hot
        - name: limit
          in: query
          description: ...
          schema:
            type: integer
            maximum: 30
          example: 10
        - name: offset
          in: query
          description: ...
          schema:
            type: integer
            example: 0
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Dish'
                  total_results:
                    type: integer
                    example: 1
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /dishes:
    post:
      summary: Create a dish.
      tags:
        - Dishes
      operationId: postDishes
      security:
        - AccessToken: []
      description: ...
      requestBody:
        $ref: '#/components/requestBodies/CreateDishRequest'
      responses:
        '201':
          description: Resource created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dish'
          headers:
            Location:
              schema:
                type: string
              description: ...
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    get:
      summary: Get a dish
      description: Get information about the dish
      operationId: getDishList
      tags:
        - Dishes
      parameters:
        - name: sort
          in: query
          description: ...
          schema:
            type: string
          example: name
        - name: order
          in: query
          description: A description of the customer's order.
          schema:
            type: string
          example: asc
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: name|ingredients|station
        - name: filter
          in: query
          description: ...
          schema:
            type: string
            example: created_at.gt~2024-05-07|price.lte~19.99
        - name: limit
          in: query
          description: ...
          schema:
            type: integer
            maximum: 30
          example: 10
        - name: offset
          in: query
          description: ...
          schema:
            type: integer
            example: 0
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Dish'
                  total_results:
                    type: integer
                    example: 20
                    description: ...
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /dishes/{id}:
    get:
      summary: Get a dish
      description: Get information about a spefic dish.
      operationId: getDish
      tags:
        - Dishes
      parameters:
        - name: id
          in: path
          schema:
            type: string
          required: true
          example: 66294b2a4475a41f3e709bd1
          description: ...
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: name|price|station|ingredients
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dish'
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    put:
      summary: Update the dish
      operationId: putDish
      tags:
        - Dishes
      security:
        - AccessToken: []
      description: ...
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bce
          description: Your unique identifier for the dish.
      requestBody:
        $ref: '#/components/requestBodies/UpdateDishRequest'
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dish'
          headers:
            Location:
              schema:
                type: string
              description: ...
        '204':
          description: No content. The operation was successful with no additional content to return.
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    delete:
      summary: Delete the dish
      description: delete a specific dish from the system.
      operationId: deleteDish
      tags:
        - Dishes
      security:
        - AccessToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bd0
          description: Your unique identifier for the specific dish.
      responses:
        '204':
          description: No content. The operation was successful with no additional content to return.
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /dishes/{id}/ingredients:
    get:
      summary: Get ingredients associated with a specific dish.
      description: Retrieve ingredients associated with a specific dish
      operationId: getDishIngredients
      tags:
        - Dishes
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bd2
          description: Your unique identifier for the specific dish.
        - name: sort
          in: query
          description: ...
          schema:
            type: string
          example: name
        - name: order
          in: query
          description: ...
          schema:
            type: string
          example: asc
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: name|in_stock_qty
        - name: filter
          in: query
          description: ...
          schema:
            type: string
            example: created_at.gt~2024-05-07|in_stock_qty.gt~3
        - name: limit
          in: query
          description: ...
          schema:
            type: integer
            maximum: 30
          example: 10
        - name: offset
          in: query
          description: ...
          schema:
            type: integer
            example: 0
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Ingredient'
                  total_results:
                    type: integer
                    example: 1
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /ingredients:
    post:
      summary: Create the ingredient
      description: Create a new ingredient to the inventory
      operationId: postIngredient
      tags:
        - Ingredients
      security:
        - AccessToken: []
      requestBody:
        $ref: '#/components/requestBodies/CreateIngredientRequest'
      responses:
        '201':
          description: Resource created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Ingredient'
          headers:
            Location:
              schema:
                type: string
              description: ...
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    get:
      summary: Get a list of ingredient
      description: Retrieve a list of ingredients with optional filtering and sorting
      operationId: getIngredientList
      tags:
        - Ingredients
      parameters:
        - name: sort
          in: query
          description: ...
          schema:
            type: string
          example: name
        - name: order
          in: query
          description: ...
          schema:
            type: string
          example: asc
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: name|in_stock_qty
        - name: filter
          in: query
          description: ...
          schema:
            type: string
            example: created_at.gt~2024-05-07|in_stock_qty.lt~5
        - name: limit
          in: query
          description: ...
          schema:
            type: integer
            maximum: 30
          example: 10
        - name: offset
          in: query
          description: ...
          schema:
            type: integer
            example: 0
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Ingredient'
                  total_results:
                    type: integer
                    example: 1
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /ingredients/{id}:
    get:
      summary: Get an ingredient
      description: Use `id` to retrieve a specific ingredient.
      operationId: getIngredient
      tags:
        - Ingredients
      parameters:
        - name: id
          in: path
          schema:
            type: string
          required: true
          example: 614d706b67c122001f35cc47
          description: ...
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: in_stock_qty|name
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Ingredient'
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    put:
      summary: Update an ingredient
      description: Update an existing ingredient
      operationId: putIngredient
      tags:
        - Ingredients
      security:
        - AccessToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 617d2e09ec42e0001f41bf84
          description: ...
      requestBody:
        $ref: '#/components/requestBodies/UpdateIngredientRequest'
      responses:
        '200':
          description: The request was successful.
        '204':
          description: No content. The operation was successful with no additional content to return.
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    delete:
      summary: Delete ingredient
      description: Delete the specific ingredient from the system
      operationId: deleteIngredient
      tags:
        - Ingredients
      security:
        - AccessToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 61c8c34bb02368001f8f0812
          description: ...
      responses:
        '204':
          description: No content. The operation was successful with no additional content to return.
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid..
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /users:
    post:
      summary: ...
      description: ...
      operationId: postUser
      tags:
        - Users
      requestBody:
        $ref: '#/components/requestBodies/CreateUserRequest'
      responses:
        '201':
          description: Resource created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          headers:
            Location:
              schema:
                type: string
              description: ...
        '400':
          description: Bad request. The request was invalid.
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
      security: []
    get:
      summary: ...
      description: ...
      operationId: getAllUsers
      tags:
        - Users
      parameters:
        - name: sort
          in: query
          description: ...
          schema:
            type: string
          example: user_name
        - name: order
          in: query
          description: ...
          schema:
            type: string
          example: asc
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: user_name|email|role
        - name: filter
          in: query
          description: ...
          schema:
            type: string
            example: created_at.gt~2024-05-07|user_name.eq~apiuser01
        - name: limit
          in: query
          description: ...
          schema:
            type: integer
            maximum: 30
          example: 10
        - name: offset
          in: query
          description: ...
          schema:
            type: integer
            example: 0
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
                  total_results:
                    type: integer
                    example: 20
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /users/{id}:
    get:
      summary: ...
      description: ...
      operationId: getUser
      tags:
        - Users
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bc9
          description: ...
        - name: fields
          in: query
          description: ...
          schema:
            type: string
          example: user_name|role
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    put:
      summary: ...
      description: ...
      operationId: putUser
      tags:
        - Users
      security:
        - AccessToken: []
      requestBody:
        $ref: '#/components/requestBodies/UpdateUserRequest'
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bc9
          description: ...
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          headers:
            Location:
              schema:
                type: string
              description: ...
        '204':
          description: No content. The operation was successful with no additional content to return.
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
    delete:
      summary: ...
      description: ...
      operationId: deleteUser
      tags:
        - Users
      security:
        - AccessToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          example: 66294b2a4475a41f3e709bca
          description: ...
      responses:
        '204':
          description: No content. The operation was successful with no additional content to return.
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /auth/token:
    post:
      summary: ...
      description: ...
      operationId: postAuthLogin
      tags:
        - Auth
      security:
        - BasicAuth: []
      requestBody:
        $ref: '#/components/requestBodies/CreateTokenRequest'
      responses:
        '201':
          description: Resource created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Auth'
          headers:
            Location:
              schema:
                type: string
              description: ...
        '400':
          description: Bad request. The request was invalid.
        '409':
          description: Conflict. The request conflicts with the current state of the resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
  /auth/refresh-token:
    post:
      summary: ...
      description: ...
      operationId: postAuthRefreshToken
      tags:
        - Auth
      requestBody:
        description: ...
        required: true
        content:
          application/json:
            schema:
              properties:
                refresh_token:
                  $ref: '#/components/schemas/RefreshToken'
      responses:
        '200':
          description: The request was successful.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Auth'
          headers:
            Location:
              schema:
                type: string
              description: ...
        '400':
          description: Bad request. The request was invalid.
        '401':
          description: Unauthorized. Authentication is required, or credentials are invalid.
        '403':
          description: Forbidden. The server refuses to authorize the request.
        '404':
          description: Not found. The requested resource does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '500':
          description: Internal server error. An unexpected error occurred on the server.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
components:
  requestBodies:
    CreateDishRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                example: Risotto alla Milanese
                description: ...
              description:
                $ref: '#/components/schemas/Description'
              category:
                $ref: '#/components/schemas/Category'
              image_name:
                $ref: '#/components/schemas/ImageName'
              ingredients:
                $ref: '#/components/schemas/Ingredients'
              preparation_time:
                $ref: '#/components/schemas/PreparationTime'
              price:
                $ref: '#/components/schemas/Price'
              station:
                $ref: '#/components/schemas/Station'
            required:
              - category
              - description
              - image_name
              - ingredients
              - preparation_time
              - name
              - price
              - station
    UpdateDishRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                example: Risotto alla Milanese
                description: ...
              description:
                $ref: '#/components/schemas/Description'
              category:
                $ref: '#/components/schemas/Category'
              image_name:
                $ref: '#/components/schemas/ImageName'
              ingredients:
                $ref: '#/components/schemas/Ingredients'
              preparation_time:
                $ref: '#/components/schemas/PreparationTime'
              price:
                $ref: '#/components/schemas/Price'
              station:
                $ref: '#/components/schemas/Station'
    CreateIngredientRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                example: Carrot
                description: ...
              in_stock_qty:
                $ref: '#/components/schemas/InStockQty'
              price:
                $ref: '#/components/schemas/Price'
            required:
              - name
              - in_stock_qty
              - price
    UpdateIngredientRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                example: Carrot
                description: ...
              in_stock_qty:
                $ref: '#/components/schemas/InStockQty'
              price:
                $ref: '#/components/schemas/Price'
    CreateOrderRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                pattern: ^[^\s]*$
                example: John
                description: ...
              table_number:
                $ref: '#/components/schemas/TableNumber'
              dish_ids:
                $ref: '#/components/schemas/DishIds'
              special_requests:
                $ref: '#/components/schemas/SpecialRequests'
              scheduled_at:
                $ref: '#/components/schemas/ScheduledAt'
            required:
              - dish_ids
              - name
          examples:
            Order - Unscheduled:
              value:
                name: Ben
                table_number: 18
                dish_ids:
                  - 692a4a34a46ecf001f35ac6f
                  - 6a4a857c022eb7001f9b8972
                  - 6b7c2441a0db43001f9bf377
                special_requests: No peanuts.
                scheduled at: null
            Order - Scheduled:
              value:
                name: Ben
                table_number: 18
                dish_ids:
                  - 692a4a34a46ecf001f35ac6f
                  - 6a4a857c022eb7001f9b8972
                  - 6b7c2441a0db43001f9bf377
                scheduled_at: '2024-08-26T09:03:18.865Z'
    UpdateOrderRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              dish_ids:
                $ref: '#/components/schemas/DishIds'
              priority:
                $ref: '#/components/schemas/Priority'
              status:
                $ref: '#/components/schemas/Status'
    CreateTokenRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            properties:
              grant_type:
                type: string
                description: ...
                example: password
              user_name:
                $ref: '#/components/schemas/UserName'
              password:
                $ref: '#/components/schemas/Password'
            required:
              - grant_type
              - user_name
              - password
    CreateUserRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              email:
                $ref: '#/components/schemas/Email'
              password:
                $ref: '#/components/schemas/Password'
              role:
                $ref: '#/components/schemas/Role'
              user_name:
                $ref: '#/components/schemas/UserName'
            required:
              - email
              - password
              - role
              - user_name
    UpdateUserRequest:
      description: ...
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              email:
                $ref: '#/components/schemas/Email'
              password:
                $ref: '#/components/schemas/Password'
              role:
                $ref: '#/components/schemas/Role'
              user_name:
                $ref: '#/components/schemas/UserName'
  schemas:
    AccessToken:
      type: string
      description: Bearer token used to authenticate API requests.
      example: fa0b97b2-445f-41d2-b50f-fb3b014a301e
    SpecialRequests:
      type: string
      nullable: true
      description: (Optional)Free-text special request or dietary instruction.
    Auth:
      type: object
      description: Object representing an authentication response.
      properties:
        auth_id:
          $ref: '#/components/schemas/Id'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        access_token:
          $ref: '#/components/schemas/AccessToken'
        expires_at:
          $ref: '#/components/schemas/ExpiresAt'
        refresh_token:
          $ref: '#/components/schemas/RefreshToken'
        token_type:
          $ref: '#/components/schemas/TokenType'
        user_name:
          $ref: '#/components/schemas/UserName'
    Category:
      type: string
      enum:
        - Appetizer
        - Main Course
        - Dessert
        - Drinks
      example: Main Course
      description: The category of the menu.
    CreatedAt:
      type: string
      format: date-time
      example: '2024-04-22T10:00:00Z'
      readOnly: true
      description: The ISO 8601 timestamp indicating when the entity was created.
    Description:
      type: string
      example: A description of the resource.
    Dish:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/Id'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        name:
          type: string
          example: Risotto alla Milanese
          description: The name of menu.
        description:
          $ref: '#/components/schemas/Description'
        category:
          $ref: '#/components/schemas/Category'
        image_name:
          $ref: '#/components/schemas/ImageName'
        ingredients:
          $ref: '#/components/schemas/Ingredients'
        preparation_time:
          $ref: '#/components/schemas/Price'
        price:
          $ref: '#/components/schemas/Price'
        station:
          $ref: '#/components/schemas/Station'
    DishIds:
      type: array
      items:
        type: string
      example:
        - 692a4a34a46ecf001f35ac6f
        - 6a4a857c022eb7001f9b8972
        - 6b7c2441a0db43001f9bf377
      description: A list of dish identifiers included in the order.
    Email:
      type: string
      format: email
      description: The email address of the user.
      example: johndoe@gmail.com
    ExpiresAt:
      type: string
      format: date-time
      example: '2024-04-22T10:00:00Z'
      readOnly: true
      description: The ISO 8601 timestamp indicating when the access token will expire.
    RefreshToken:
      type: string
      description: The token used to obtain a new access token when the current one expires.
      example: d1a3e281-96b6-4f77-a587-7b6c8c2a96d9
    Id:
      type: string
      example: 674d0bf5c28b69001f8e03a1
      readOnly: true
      description: The unique identifier for the entity.
    ImageName:
      type: string
      description: The file name of the image associated with the dish.
      example: burger
    Ingredients:
      type: array
      description: ...
      items:
        type: object
        properties:
          ingredient_id:
            type: string
            example: 66294b2a4475a41f3e709bc4
            description: ...
          is_essential:
            type: boolean
            description: ...
            example: true
        example:
          - ingredient_id: 66294b2a4475a41f3e709bc5
            is_essential: true
          - ingredient_id: 66294b2a4475a41f3e709bc6
            is_essential: true
          - ingredient_id: 66294b2a4475a41f3e709bc7
            is_essential: false
    Ingredient:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/Id'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        name:
          type: string
          example: Carrot
          description: ...
        in_stock_qty:
          $ref: '#/components/schemas/InStockQty'
        price:
          $ref: '#/components/schemas/Price'
    InStockQty:
      type: integer
      description: The number of units of the ingredient currently in stock.
      example: 3
    Order:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/Id'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        name:
          type: string
          pattern: ^[^\s]*$
          example: John
          description: The name 
        table_number:
          $ref: '#/components/schemas/TableNumber'
        dish_ids:
          $ref: '#/components/schemas/DishIds'
        special_requests:
          $ref: '#/components/schemas/SpecialRequests'
        priority:
          $ref: '#/components/schemas/Priority'
        scheduled_at:
          $ref: '#/components/schemas/ScheduledAt'
        status:
          $ref: '#/components/schemas/Status'
    Password:
      type: string
      description: The password for the user account.
      example: P@ssw0rd!
    PreparationTime:
      type: integer
      description: Estimated preparation time in minutes.
      example: 45
    Price:
      type: number
      format: float
      example: 999
      description: The price of the dish or ingredient in float format.
    Priority:
      type: integer
      minimum: 0
      maximum: 5
      default: 3
      description: The number indicating the order's priority
    Problem:
      type: object
      properties:
        title:
          type: string
          description: A summary of the error that occurred.
          example: Invalid Authentication Token
        detail:
          type: string
          description: Detailed explanation of the error, including potential causes and resolution steps.
          example: Human-readable error details.
      required:
        - title
        - detail
    Role:
      type: string
      enum:
        - patron
        - expeditor
        - chef
        - manager
      example: manager
      description: The role assigned to the user.
    ScheduledAt:
      type: string
      format: date-time
      description: (optional) The time scheduled for the order in ISO 8601 format.
      nullable: true
      example: null
    Station:
      type: string
      description: The kitchen station responsible for preparing the dish.
      enum:
        - cold
        - hot
        - beverages
      example: hot
    Status:
      type: string
      nullable: true
      enum:
        - Draft
        - Received
        - In Progress
        - Ready for Assembly
        - On the Way
        - Ready for Pickup
      example: Received
      description: Current status of the order workflow.
    TableNumber:
      type: integer
      example: 8
      nullable: true
      description: (optional)The table number associated with the order.
    TokenType:
      type: string
      description: Type of token (e.g., Bearer).
      example: Bearer
    UpdatedAt:
      type: string
      format: date-time
      example: '2024-04-22T10:00:00Z'
      readOnly: true
      description: ISO 8601 timestamp indicating when the entity was last updated.
    User:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/Id'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        user_name:
          $ref: '#/components/schemas/UserName'
        email:
          $ref: '#/components/schemas/Email'
        password:
          $ref: '#/components/schemas/Password'
        role:
          $ref: '#/components/schemas/Role'
    UserName:
      type: string
      description: The username associated with the user account.
      example: john_doe
  securitySchemes:
    AccessToken:
      type: http
      scheme: bearer
    BasicAuth:
      type: http
      scheme: basic
      description: ...
